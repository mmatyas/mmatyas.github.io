!function(){"use strict";var n=function(){function n(){var n=this;this.t=document.getElementById("newgame"),this.i=this.t.querySelector(".players"),this.u=document.getElementById("newgame-addplayer"),this.o=document.getElementById("newgame-delplayer"),this.h=document.getElementById("newgame-start"),this.l=null,this.u.onclick=function(){var t=document.createElement("input");t.type="text",t.value="P"+(n.i.children.length+1),t.placeholder="Ã¼res!",t.oninput=function(){return n.v()};var i=document.createElement("li");i.appendChild(t),n.i.appendChild(i),n.v()},this.o.onclick=function(){n.i.children.length>2&&n.i.removeChild(n.i.lastChild),n.v()},this.h.onclick=function(){var t;null===(t=n.l)||void 0===t||t.call(n),n.t.classList.add("hidden")},this.i.querySelectorAll("input").forEach((function(t){return t.oninput=function(){return n.v()}})),this.v()}return n.prototype.m=function(){var n=this.i.querySelectorAll("input");return Array.from(n).map((function(n){return n.value}))},n.prototype.v=function(){this.u.disabled=this.i.children.length>=10,this.o.disabled=this.i.children.length<=2,this.h.disabled=this.m().includes("")},n}(),t=function(){function n(){this.grid=document.getElementById("notes"),this.p=0,this.g=null,this.grid.querySelectorAll("tr:not(:first-child) td").forEach((function(n){n.onclick=function(){return n.classList.toggle("inverted")}}))}return n.prototype.k=function(n){var t=this;if(this.grid.rows.length){var i=this.p,u=Math.min(i+1,11),r=this.grid.rows[0].insertCell(-1);r.innerText=n,r.onclick=function(){return r.classList.toggle("inverted")},r.classList.add("player"+u.toString());for(var o=function(n){var u=e.grid.rows[n];if(u.classList.contains("head"))return"continue";u.insertCell(-1).onclick=function(){var u;return null===(u=t.g)||void 0===u?void 0:u.call(t,i,n)}},e=this,s=1;s<this.grid.rows.length;s++)o(s);this.p++}},n.prototype.A=function(n,t,i){if(!(t>=this.grid.rows.length||t<0)){var u=this.grid.rows[t],r=n+1;if(!(r>=u.cells.length||r<0)){for(var o=u.cells[r];o.lastChild;)o.removeChild(o.lastChild);if(i){var e=document.createElement("i");e.className=i,o.appendChild(e)}}}},n}(),i=function(){function n(){var n=this;this.t=document.getElementById("markers"),this.M=document.getElementById("markers-close"),this.P=null,this.j=null,this.t.querySelectorAll(".icons button").forEach((function(t){var i,u,r=t,o=null!==(u=null===(i=r.firstElementChild)||void 0===i?void 0:i.className)&&void 0!==u?u:null;r.onclick=function(){var t;null===(t=n.P)||void 0===t||t.call(n,o),n.close()}})),this.M.onclick=function(){var t;null===(t=n.j)||void 0===t||t.call(n),n.close()}}return n.prototype.open=function(){this.t.classList.remove("hidden")},n.prototype.close=function(){this.t.classList.add("hidden")},n}();window.onload=function(){var u=new n,r=new i,o=new t,e=null;u.l=function(){u.m().forEach((function(n){return o.k(n)}))},o.g=function(n,t){e=[n,t],r.open()},r.j=function(){e=null},r.P=function(n){if(e){var t=e[0],i=e[1];o.A(t,i,n)}}}}();
